<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Configuration</title>
    <style>
        :root {
            --yellow: #FCD307;
            --orange: #FFBC00;
            --black: #000000;
            --gray: #E2E2E2;
            --white: #FFFFFF;
            --light-gray: #F5F5F5;
            --dark-gray: #888888;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--gray);
            color: var(--black);
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }
        .config-container {
            background-color: var(--white);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            width: 100%;
            max-width: 800px;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }
        h1, h2 {
            color: var(--black);
            margin-top: 0;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: clamp(1.8rem, 4vw, 2.2rem);
            color: #333;
        }
        h2 {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--yellow);
        }
        input[type="text"], input[type="file"], select, textarea {
            width: 100%;
            padding: 12px 15px;
            margin: 8px 0 15px;
            border: 2px solid var(--gray);
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus,
        input[type="file"]:focus,
        select:focus,
        textarea:focus {
            border-color: var(--yellow);
            outline: none;
        }
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
        button {
            background-color: var(--yellow);
            color: var(--black);
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 8px 0;
            font-weight: bold;
            width: 100%;
        }
        button:hover {
            background-color: var(--orange);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        button:active {
            transform: translateY(0);
        }
        ul {
            list-style-type: none;
            padding: 0;
            margin: 20px 0;
        }
        ul li {
            background-color: var(--light-gray);
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            font-size: 1em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .question-content {
            margin-bottom: 12px;
        }
        .question-content span {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
        }
        .question-image {
            max-width: 100%;
            height: auto;
            max-height: 200px;
            object-fit: contain;
            border-radius: 8px;
            margin-top: 10px;
            display: block;
            border: 1px solid var(--gray);
        }
        .question-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .question-actions button {
            flex: 1 1 calc(50% - 10px);
            min-width: 100px;
            padding: 10px;
            font-size: 0.9em;
            margin: 0;
        }
        #image-preview {
            margin: 10px 0;
            text-align: center;
        }
        #preview {
            max-width: 100%;
            max-height: 200px;
            border-radius: 8px;
            border: 1px solid var(--gray);
        }
        /* Styles for the save button */
        .save-btn {
            background-color: #4CAF50;
            color: white;
            margin-top: 30px;
        }
        .save-btn:hover {
            background-color: #45a049;
        }
        /* Styles for the celebration */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            color: white;
            text-align: center;
        }
        .celebration h2 {
            font-size: 3rem;
            color: white;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
            border: none;
        }
        .celebration p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }
        .celebration button {
            background-color: var(--yellow);
            color: var(--black);
            font-size: 1.2rem;
            padding: 15px 30px;
            max-width: 300px;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            animation: fall 5s linear infinite;
        }
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
        /* Media Queries for different screen sizes */
        @media (min-width: 600px) {
            body {
                align-items: center;
                padding: 30px;
            }

            .config-container {
                padding: 30px;
            }

            button {
                width: auto;
            }

            .question-actions button {
                flex: 0 1 auto;
                min-width: 100px;
            }

            ul li {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                align-items: center;
            }

            .question-content {
                flex: 1 1 60%;
                margin-bottom: 0;
                padding-right: 15px;
            }

            .question-actions {
                flex: 1 1 35%;
                justify-content: flex-end;
                margin-top: 0;
            }
        }
        @media (min-width: 768px) {
            .question-actions {
                flex: 0 1 auto;
                gap: 12px;
            }

            .question-content {
                flex: 1 1 70%;
            }
            .question-actions button {
                flex: 0 1 auto;
                padding: 10px 15px;
            }
        }
        @media (min-width: 992px) {
            .config-container {
                padding: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="config-container">
        <h1>Game Configuration</h1>

        <h2>Add New Question</h2>
        <label for="new-question">Question:</label>
        <input type="text" id="new-question" placeholder="Write your question here">

        <label for="new-explanation">Explanation:</label>
        <textarea id="new-explanation" placeholder="Explain the correct answer"></textarea>

        <label for="new-image">Image (optional):</label>
        <input type="file" id="new-image" accept="image/*">

        <div id="image-preview" style="display: none;">
            <img id="preview" src="" alt="Image preview">
        </div>

        <label for="new-answer">Correct Answer:</label>
        <select id="new-answer">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>

        <button onclick="addQuestion()">Add Question</button>

        <h2>Configured Questions</h2>
        <ul id="questions-list"></ul>

        <button class="save-btn" onclick="saveConfig()">Save Configuration</button>
    </div>
    <script>
        let questions = [
            {
                question: "Is the Earth flat? ðŸŒ",
                explanation: "The Earth is an oblate spheroid, which means it is almost spherical but flattened at the poles.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.YZbOF-7qdP4qC9MSsS0uoAHaEK%26pid%3DApi&f=1&ipt=6e38dfba58b7d524678e900d4dee9d26acd2397e40f9f2eb8ec4a686620e69e4&ipo=images",
                answer: false
            },
            {
                question: "Is the sun a star? â˜€ï¸",
                explanation: "The sun is a star, specifically a yellow dwarf, which is at the center of our solar system.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.aeORfQGENV-UVKitxh6fsAHaGK%26r%3D0%26pid%3DApi&f=1&ipt=ffaacc049efb225d35eb91f6b8a0b744c9517ea624c95f53343834ce6f361ea9&ipo=images",
                answer: true
            },
            {
                question: "Do humans only use 10% of their brain? ðŸ§ ",
                explanation: "Humans use virtually all parts of their brain, and the brain is active even during sleep.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.DpD9FHFD2U4LBy2rmf6noAHaFl%26pid%3DApi&f=1&ipt=f950a0cbaf4f698d9f6aa9881690c9bc586e41bd68f73088b1bdd7087853bda6&ipo=images",
                answer: false
            },
            {
                question: "Is Mount Everest the tallest mountain in the world? â›°ï¸",
                explanation: "Mount Everest is the tallest mountain above sea level, with an altitude of 8,848 meters.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.FXBuJ8RmUJkOTSC-qd-M6wHaEK%26pid%3DApi&f=1&ipt=059e68f1624e5e5ae2259056865621d651dfb4cadb407b6e0e4067cc3544007d&ipo=images",
                answer: true
            },
            {
                question: "Are bats blind? ðŸ¦‡",
                explanation: "Bats are not blind; in fact, many have quite good vision and also use echolocation to navigate.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.dF8jjjftdFjdd29Ma6TxHgHaE8%26r%3D0%26pid%3DApi&f=1&ipt=54d62ab824e496c7fb5e71186dded91ecb4e06345e8e5b1c4dbb8a9ec0b79cb8&ipo=images",
                answer: false
            },
            {
                question: "Is the Great Wall of China visible from space? ðŸ‘¨â€ðŸš€",
                explanation: "The Great Wall of China is not easily visible from space with the naked eye without aid.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.23B4-2ZKvattCVtoFMz9YwAAAA%26pid%3DApi&f=1&ipt=432e6a0af2c6a22da77f7cd1fdc899eeb1211c77094d61b4a24acf883631386f&ipo=images",
                answer: false
            },
            {
                question: "Is coffee made from leaves? â˜•",
                explanation: "Coffee is made from roasted beans of the coffee plant, not from leaves.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.explicit.bing.net%2Fth%3Fid%3DOIP.i8Bez0IQSJUCD8VYkE0enQHaFj%26pid%3DApi&f=1&ipt=60b62fe7595663913a3be217ba61fbb6f001090d69cf82ad6f818b9d5e908c1f&ipo=images",
                answer: false
            },
            {
                question: "Is the Atlantic Ocean the largest on Earth? ðŸŒŠ",
                explanation: "The Pacific Ocean is the largest on Earth, covering more than 30% of the planet's surface.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.v3bvZOHNeHsFU_-8YTg28QHaEK%26r%3D0%26pid%3DApi&f=1&ipt=e0941d1ddbd911d4cd945584a5306bae9386173e01a66cb55d7d9446b18e136d&ipo=images",
                answer: false
            },
            {
                question: "Does sunlight take approximately 8 minutes to reach Earth? ðŸŒž",
                explanation: "Sunlight takes approximately 8 minutes and 20 seconds to reach Earth.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.ctc_iQboqZZkRElv1Rk4dQHaEK%26r%3D0%26pid%3DApi&f=1&ipt=78a791cdc1f88cde7b9b4452e8d35baf5a0fc3ff4d65c808ec11912a7939463c&ipo=images",
                answer: true
            },
            {
                question: "Is diamond the hardest natural material known? ðŸ’Ž",
                explanation: "Diamond is the hardest natural material known, making it extremely resistant to scratches.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.NdJB1WTNmrGzeOPq3gUi-AHaEK%26r%3D0%26pid%3DApi&f=1&ipt=2470210611c22e359cc39f3b3d5ce8936b3ba05155d5dfb0c94624ecb6e9fa34&ipo=images",
                answer: true
            },
            {
                question: "Do camels store water in their humps? ðŸ«",
                explanation: "Camels store fat in their humps, not water. This fat can be converted into energy and water when metabolized.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.8-d_7h7PU3e46xMBZk9XdgHaFj%26r%3D0%26pid%3DApi&f=1&ipt=bb4926dead1ebf8637a02cc6e77e39fe2ab5748db2b5179e8819aad3e5126926&ipo=images",
                answer: false
            },
            {
                question: "Does sound travel faster in water than in air? ðŸŒŠðŸŽµ",
                explanation: "Sound travels faster in water than in air because the particles in water are closer together.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.q62B3XMp6JPk_rgklO3rsgHaE8%26r%3D0%26pid%3DApi&f=1&ipt=97013ca484d65196c09b29a1fdabafb9b1122e4b20c5f7ad3c719722912f57e8&ipo=images",
                answer: true
            },
            {
                question: "Does the Moon have a dark side that never receives sunlight? ðŸŒ‘",
                explanation: "The Moon has a far side that is never visible from Earth, but it receives sunlight just like the near side.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.VwGY_vVPFHx1RBha4tzTSwHaEK%26r%3D0%26pid%3DApi&f=1&ipt=10278a6ecb31930544e345d5e6ba73696512d2da1e70cb013b49abb5e5cd6688&ipo=images",
                answer: false
            },
            {
                question: "Does the human body have more bacteria than human cells? ðŸ¦ ",
                explanation: "The human body has approximately the same number of bacterial cells as human cells, although bacteria are much smaller.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.0phKcNdWlPna3KnJ4Zg54QHaE8%26r%3D0%26pid%3DApi&f=1&ipt=e277f6d1886cb11cbb76ccfee9089e59208bdd61410601996153dd19feeb9a6b&ipo=images",
                answer: false
            },
            {
                question: "Is gold the heaviest metal? ðŸ†",
                explanation: "Gold is heavy, but it is not the heaviest metal. Metals like osmium and iridium are denser.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.0aoUqQejtfUwtyakAvPSZAHaE7%26r%3D0%26pid%3DApi&f=1&ipt=1a4fc190b05a18ad3e7ac7f637b3b842bdcd98190fc5065a1b150e1b11cc4090&ipo=images",
                answer: false
            },
            {
                question: "Is the Sahara Desert the largest in the world? ðŸœï¸",
                explanation: "The Sahara Desert is the largest hot desert in the world, but the Antarctic Desert is the largest overall.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.daCnVn_2XH_AQ-OG4j1iEgHaE7%26r%3D0%26pid%3DApi&f=1&ipt=592d765ef8d0d818152e88567fb27c2ee39b2f21e8547cbaf8d9f781afe3509a&ipo=images",
                answer: false
            },
            {
                question: "Does the human heart beat more than 100,000 times a day? â¤ï¸",
                explanation: "The human heart beats approximately 100,000 times a day, pumping blood throughout the body.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.U8t-9xcjOGAdVEZCGn3hlAHaFi%26pid%3DApi&f=1&ipt=7a298586e77275ac30078d6c53b270b2a885575f549c6787ccfbaea5ecf6ff30&ipo=images",
                answer: true
            },
            {
                question: "Does honey never spoil? ðŸ¯",
                explanation: "Honey has an extremely long shelf life due to its low water activity and acidity, but it can crystallize or ferment over time.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.cEWXCrwxTcJU0A84A3WJfAHaFY%26r%3D0%26pid%3DApi&f=1&ipt=6c9ab5b7057ee0c2d7b0af792298891308522ece8bcc4882a6194052e0e34fdb&ipo=images",
                answer: false
            },
            {
                question: "Is the banana a berry? ðŸŒ",
                explanation: "Botanically, the banana is considered a berry because it develops from a single flower with a single ovary.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.1P41CRXHhBLS0J6w3OUVEwHaEj%26r%3D0%26pid%3DApi&f=1&ipt=c4872e1e3b2d08a9583374cdc129fd1321d5086b4a5c437c16c66895c96e1380&ipo=images",
                answer: true
            },
            {
                question: "Do octopuses have three hearts? ðŸ™",
                explanation: "Octopuses have three hearts: two pump blood to the gills and one to the rest of the body.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.explicit.bing.net%2Fth%3Fid%3DOIP.qmHR7D9G0GCmiDuCjVGhhwHaEh%26pid%3DApi&f=1&ipt=e869db9b7973d102450dc3b1cba1f9eab40f07b61d442f4def8dbd128ad736d4&ipo=images",
                answer: true
            },
            {
                question: "Is stainless steel rust-proof? ðŸ”©",
                explanation: "Stainless steel is resistant to corrosion and rust due to the chromium oxide layer that forms on its surface.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.cLOshfhGdIfS5148w1kTWwHaEc%26r%3D0%26pid%3DApi&f=1&ipt=04d6bdde4c32520d47ee29133459fae6c25c25f37fa421b66f349aee88551d41&ipo=images",
                answer: false
            },
            {
                question: "Is the tomato a fruit? ðŸ…",
                explanation: "Botanically, the tomato is a fruit because it develops from the ovary of a flower and contains seeds.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.H-C3f3qRk0QFAjf9OIAbwgHaD5%26pid%3DApi&f=1&ipt=f8a7032d88c729fd5df53272ee3a0a713ca8dcf6f4c91250f2c578fb3d945cc7&ipo=images",
                answer: true
            },
            {
                question: "Was chess invented in China? â™Ÿï¸",
                explanation: "Chess was invented in India, not China. It is believed to have originated around the 6th century.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.UOvBrfvOQ4cSUf2L2uT93QHaEK%26r%3D0%26pid%3DApi&f=1&ipt=a396541c50fb59e8a4f505c3402ba97c77a6d0209de8663a4a76c6a9e38d4a67&ipo=images",
                answer: false
            },
            {
                question: "Can the human body regenerate the liver? ðŸ«€",
                explanation: "The liver is the only internal human organ capable of completely regenerating itself after injury or partial removal.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.explicit.bing.net%2Fth%3Fid%3DOIP._ZgBLUvRmA_-sdadrXyQngHaHa%26pid%3DApi&f=1&ipt=4edc36e4499e03db3dc84e41b91191f66dfdf2968da723c5abee7fcc06d5b32f&ipo=images",
                answer: true
            },
            {
                question: "Is brown sugar healthier than white sugar? ðŸš",
                explanation: "Brown sugar contains some molasses, which provides minerals, but in terms of calories and health effects, it is similar to white sugar.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.QLbXvgvHQ4vzxKIRWVav8QHaFj%26pid%3DApi&f=1&ipt=259117a5803b3883c0f52d8c0124554439f1e27d5e9a71ae0f6cbf95db27f6e2&ipo=images",
                answer: false
            },
            {
                question: "Is outer space completely empty? ðŸš€",
                explanation: "Outer space is not completely empty; it contains low-density particles, radiation, and magnetic fields.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.kBY4LxAeo1gzY_un8PIWJAHaEb%26r%3D0%26pid%3DApi&f=1&ipt=7f3686431242c31b723c640add287e470675ad6955d37b97d226c9d0c393817c&ipo=images",
                answer: false
            },
            {
                question: "Can water exist in all three states of matter at room temperature on Earth? ðŸ’§",
                explanation: "Water can exist as a solid (ice), liquid (water), and gas (vapor) at room temperature on Earth under different conditions.",
                image: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse4.mm.bing.net%2Fth%3Fid%3DOIP.CDLeDXUuGeR9JKDnzDTpCgHaDt%26pid%3DApi&f=1&ipt=a51369daeac5f3fb268d1a3a03b17d3e94f3bfe2f1c496206aa717253ec3e195&ipo=images",
                answer: true
            }
        ];
        let currentImageData = null;
        let answeredQuestions = 0;

        function addQuestion() {
            const questionText = document.getElementById("new-question").value.trim();
            const explanationText = document.getElementById("new-explanation").value.trim();
            const imageInput = document.getElementById("new-image");
            const answer = document.getElementById("new-answer").value === "true";

            if (!questionText) {
                alert("Please enter a question");
                return;
            }

            if (!explanationText) {
                alert("Please enter an explanation");
                return;
            }

            if (imageInput.files && imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentImageData = e.target.result;
                    questions.push({
                        question: questionText,
                        explanation: explanationText,
                        image: currentImageData,
                        answer: answer
                    });
                    updateQuestionsList();
                    resetForm();
                };
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                questions.push({
                    question: questionText,
                    explanation: explanationText,
                    image: currentImageData,
                    answer: answer
                });
                updateQuestionsList();
                resetForm();
            }
        }

        function resetForm() {
            document.getElementById("new-question").value = "";
            document.getElementById("new-explanation").value = "";
            document.getElementById("new-image").value = "";
            document.getElementById("image-preview").style.display = "none";
            currentImageData = null;
        }

        function updateQuestionsList() {
            const questionsList = document.getElementById("questions-list");
            questionsList.innerHTML = questions.map((q, index) => `
                <li>
                    <div class="question-content">
                        <span>${q.question}</span>
                        ${q.image ? `<img src="${q.image}" class="question-image" alt="Question image">` : ""}
                    </div>
                    <div class="question-actions">
                        <button onclick="editQuestion(${index})">Edit</button>
                        <button onclick="deleteQuestion(${index})">Delete</button>
                        <button onclick="showAnswer('${q.explanation}', ${q.answer}, ${index})">View Answer</button>
                    </div>
                </li>
            `).join("");
        }

        function showAnswer(explanation, answer, index) {
            const userAnswer = confirm(`Question: ${questions[index].question}\n\nIs it true or false?\n\nPress OK for True or Cancel for False`);

            if (userAnswer === answer) {
                answeredQuestions++;
                alert(`Correct! âœ…\n\nExplanation: ${explanation}`);

                // Check if all questions have been answered
                if (answeredQuestions === questions.length) {
                    showCelebration();
                }
            } else {
                alert(`Incorrect âŒ\n\nExplanation: ${explanation}\n\nThe correct answer was: ${answer ? "True" : "False"}`);
            }

            setTimeout(() => {
                alert("Time's up");
            }, 20000); // 20 seconds
        }

        function showCelebration() {
            const celebration = document.getElementById('celebration');
            celebration.style.display = 'flex';
            createConfetti();
        }

        function hideCelebration() {
            const celebration = document.getElementById('celebration');
            celebration.style.display = 'none';
            answeredQuestions = 0; // Reset counter
            removeConfetti();
        }

        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            const container = document.body;

            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = (Math.random() * 10 + 5) + 'px';
                confetti.style.height = (Math.random() * 10 + 5) + 'px';
                confetti.style.opacity = Math.random();
                container.appendChild(confetti);
            }
        }

        function removeConfetti() {
            const confettiElements = document.querySelectorAll('.confetti');
            confettiElements.forEach(el => el.remove());
        }

        function editQuestion(index) {
            const question = questions[index];
            document.getElementById("new-question").value = question.question;
            document.getElementById("new-explanation").value = question.explanation;
            document.getElementById("new-answer").value = question.answer;
            currentImageData = question.image;

            if (currentImageData) {
                const preview = document.getElementById("preview");
                preview.src = currentImageData;
                document.getElementById("image-preview").style.display = "block";
            }

            questions.splice(index, 1);
            updateQuestionsList();

            // Scroll to the form
            document.getElementById("new-question").focus();
        }

        function deleteQuestion(index) {
            if (confirm("Are you sure you want to delete this question?")) {
                questions.splice(index, 1);
                updateQuestionsList();
            }
        }

        function saveConfig() {
            try {
                localStorage.setItem("gameQuestions", JSON.stringify(questions));
                alert("Configuration saved successfully");
            } catch (e) {
                alert("Error saving configuration: " + e.message);
            }
        }

        // Preview the selected image
        document.getElementById("new-image").addEventListener("change", function(e) {
            if (e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const preview = document.getElementById("preview");
                    preview.src = event.target.result;
                    document.getElementById("image-preview").style.display = "block";
                };
                reader.readAsDataURL(e.target.files[0]);
            }
        });

        // Load saved questions on startup
        document.addEventListener("DOMContentLoaded", function() {
            try {
                const savedQuestions = localStorage.getItem("gameQuestions");
                if (savedQuestions) {
                    questions = JSON.parse(savedQuestions);
                }
                updateQuestionsList();
            } catch (e) {
                console.error("Error loading questions:", e);
            }
        });
    </script>
</body>
</html>
